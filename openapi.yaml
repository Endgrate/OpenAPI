components:
  securitySchemes:
    BearerAuth:
      type: http
      scheme: bearer
  schemas:
    TransferDataSchema:
      type: array
      description: Returned transfer data.
      items:
        type: object
        properties:
          id:
            type: string
            description: An ID that identifies this resource, returned by the integration provider.
            examples: 
              - '68951'
          data:
            type: object
            description: Transfer data conforming to the specified `endgrate_type` or custom schema. (if `passthrough_fields` is true, passthrough fields will also be returned here).
            additionalProperties:
              type: object
            example:
              email: susan@youtube.com
              first_name: Susan
              last_name: Wojicki
              full_name: Susan Wojicki
              company: YouTube
              is_employed: true
              age: 37
              lifecyclestage: lead
          associations:
            type: object
            description: Associated IDs keyed by endgrate type, if `associations` is true for the schema.
            examples:
              - Company:
                - '17628450685'
            additionalProperties:
              type: array
              items:
                type: string
                description: Associated IDs.
    CompletedCallbackSchema:
      type: object
      properties:
        success:
          type: boolean
          examples: 
            - true
        transfer_id:
          type: string
          examples:
            - 6566e87b7cf20dca9cef0c0d
        session_id:
          type: string
          examples:
            - 6566e85e7cf20dca9cef0c0a
        metadata:
          type: object
          description: The metadata from ${request.body#/completed_webhook/metadata}.
          additionalProperties:
            type:
              - string
              - integer
              - boolean
          examples:
            - user_id: 1
        endgrate:
          type: object
          properties:
            endgrate_type:
              type: string
              description: A valid `endgrate_type` for the session. If no `endgrate_type` was specified, the title of the schema can be used instead.
              examples:
                - accounting-address
                - accounting-company
                - accounting-contact
                - accounting-contact_people
                - accounting-invoice
                - accounting-payment
                - accounting-product
                - accounting-purchase_order
                - analytics-lead
                - analytics-note
                - analytics-page_analytics
                - analytics-page_views
                - analytics-user
                - analytics-user_count
                - ats-candidate
                - calendar-event
                - communication-meeting
                - communication-message_history
                - communication-user
                - crm-activity
                - crm-company
                - crm-contact
                - crm-deal
                - crm-lead
                - crm-customer
                - crm-note
                - crm-policy
                - crm-product
                - crm-task
                - crm-ticket
                - crm-user
                - database-user
                - ecommerce-customer
                - ecommerce-order
                - ecommerce-product
                - ecommerce-product_category
                - ecommerce-product_collection
                - ecommerce-product_variant
                - forms-lead
                - forms-question
                - helpdesk-company
                - helpdesk-contact
                - helpdesk-note
                - helpdesk-user
                - helpdesk-message
                - marketing-contact
                - marketing-customer
                - marketing-lead
                - marketing-user
                - prospecting-company
                - prospecting-contact
                - workspace-task
                - workspace-user
                - access_control-device
                - access_control-pin
        completed:
          type: boolean
          examples:
            - true
          description: Success flag indicating the transfer has completed.
    ConfigurationCallbackSchema:
      type: object
      properties:
        success:
          type: boolean
        session_id:
          type: string
          examples: 
            - 6566e85e7cf20dca9cef0c0a
        endgrate:
          type: object
          properties:
            provider:
              type: string
              description: Internal provider name.
              examples:
                - hubspot
            provider_info:
              type: object
              description: Provider information.
              properties:
                name:
                  type: string
                  examples:
                    - hubspot
                display_name:
                  type: string
                  examples:
                    - HubSpot
                url:
                  type: string
                  examples: 
                    - https://www.hubspot.com/
                image:
                  type: string
                  examples:
                    - https://endgrate.nyc3.cdn.digitaloceanspaces.com/integration/hubspot.png
                auth_type:
                  type: string
                  examples: 
                    - oauth
                  enum:
                    - oauth
                    - api_key
                    - custom
                specific:
                  type: object
                endgrate_provider_type:
                  type: string
                  examples:
                    - CRM
        schemas:
          type: object
          description: Schema information, keyed by endgrate type.
          example:
            contact:
              integration_info:
                name: get-contacts
                display_name: Get Contacts
                method: IMPORT
              integration: get-contacts
              schema:
                  type: object
                  associations: true
                  endgrate_type: crm-contact
                  properties:
                    email:
                      type: string
                      format: email
                    first_name:
                      type: string
                    last_name:
                      type: string
                    full_name:
                      type: string
                    company:
                      type: string
                    age:
                      type: number
                    is_employed:
                      type: boolean
                    lifecyclestage:
                      title: Lifecycle Stage
                      type: string
                  required: [email]
                  title: crm-contact
                  session_method: IMPORT
              passthrough_fields:
                properties:
                  lifecyclestage:
                    title: Lifecycle Stage
                    type: string
                  required: []              
          additionalProperties:
            type: object
            properties:
              integration_info:
                type: object
                description: integration information.
                properties:
                  name:
                    type: string
                    examples:
                      - get-contacts
                  display_name:
                    type: string
                    examples:
                      - Get Contacts
                  method:
                    type: string
                    examples: 
                      - IMPORT
                    enum:
                      - IMPORT
                      - EXPORT
                  endgrate_type:
                    type: string
                    description: A valid `endgrate_type` for the session. If no `endgrate_type` was specified, the title of the schema can be used instead.
                    examples:
                      - accounting-address
                      - accounting-company
                      - accounting-contact
                      - accounting-contact_people
                      - accounting-invoice
                      - accounting-payment
                      - accounting-product
                      - accounting-purchase_order
                      - analytics-lead
                      - analytics-note
                      - analytics-page_analytics
                      - analytics-page_views
                      - analytics-user
                      - analytics-user_count
                      - ats-candidate
                      - calendar-event
                      - communication-meeting
                      - communication-message_history
                      - communication-user
                      - crm-activity
                      - crm-company
                      - crm-contact
                      - crm-deal
                      - crm-lead
                      - crm-customer
                      - crm-note
                      - crm-policy
                      - crm-product
                      - crm-task
                      - crm-ticket
                      - crm-user
                      - database-user
                      - ecommerce-customer
                      - ecommerce-order
                      - ecommerce-product
                      - ecommerce-product_category
                      - ecommerce-product_collection
                      - ecommerce-product_variant
                      - forms-lead
                      - forms-question
                      - helpdesk-company
                      - helpdesk-contact
                      - helpdesk-note
                      - helpdesk-user
                      - helpdesk-message
                      - marketing-contact
                      - marketing-customer
                      - marketing-lead
                      - marketing-user
                      - prospecting-company
                      - prospecting-contact
                      - workspace-task
                      - workspace-user
                      - access_control-device
                      - access_control-pin
                  supports_associations:
                    type: boolean
                    examples:
                      - true
              integration:
                type: string
                examples: 
                  - get-contacts
              schema:
                type: object
                description: JSON schema of the endgrate type.
                properties:
                  type:
                    type: string
                    examples: 
                      - object
                    enum:
                      - object
                  associations:
                    type: boolean
                    examples: 
                      - true
                  endgrate_type:
                    type: string
                    description: A valid `endgrate_type` for the session. If no `endgrate_type` was specified, the title of the schema can be used instead.
                    examples:
                      - accounting-address
                      - accounting-company
                      - accounting-contact
                      - accounting-contact_people
                      - accounting-invoice
                      - accounting-payment
                      - accounting-product
                      - accounting-purchase_order
                      - analytics-lead
                      - analytics-note
                      - analytics-page_analytics
                      - analytics-page_views
                      - analytics-user
                      - analytics-user_count
                      - ats-candidate
                      - calendar-event
                      - communication-meeting
                      - communication-message_history
                      - communication-user
                      - crm-activity
                      - crm-company
                      - crm-contact
                      - crm-deal
                      - crm-lead
                      - crm-customer
                      - crm-note
                      - crm-policy
                      - crm-product
                      - crm-task
                      - crm-ticket
                      - crm-user
                      - database-user
                      - ecommerce-customer
                      - ecommerce-order
                      - ecommerce-product
                      - ecommerce-product_category
                      - ecommerce-product_collection
                      - ecommerce-product_variant
                      - forms-lead
                      - forms-question
                      - helpdesk-company
                      - helpdesk-contact
                      - helpdesk-note
                      - helpdesk-user
                      - helpdesk-message
                      - marketing-contact
                      - marketing-customer
                      - marketing-lead
                      - marketing-user
                      - prospecting-company
                      - prospecting-contact
                      - workspace-task
                      - workspace-user
                      - access_control-device
                      - access_control-pin
                  properties:
                    type: object
                    example:
                      email:
                        type: string
                        format: email
                      first_name:
                        type: string
                      last_name:
                        type: string
                      full_name:
                        type: string
                      company:
                        type: string
                      age:
                        type: number
                      is_employed:
                        type: boolean
                      lifecyclestage:
                        title: Lifecycle Stage
                        type: string
                    additionalProperties:
                      type: object
                      properties:
                        format:
                          type: string
                        type:
                          type: string
                        title:
                          type: string
                  required:
                    type: array
                    examples:
                      - email
                    items:
                      type: string
                  title:
                    type: string
                    examples: 
                      - Contact
                  session_method:
                    type: string
                    examples:
                      - IMPORT
              passthrough_fields:
                type: object
                description: JSON schema of passthrough fields, if `passthrough_fields` is true.
                properties:
                  properties:
                    type: object
                    example:
                      lifecyclestage:
                        title: Lifecycle Stage
                        type: string
                    additionalProperties:
                      type: object
                      properties:
                        title:
                          type: string
                        type:
                          type: string
                  required:
                    type: array
                    examples:
                      - lifecyclestage
                    items:
                      type: string
        passthrough_schemas:
          type: object
          description: Passthrough schema information, keyed by endgrate type.
          example:
            custom:
              integration_info:
                name: get-custom-objects
                display_name: Get Custom Objects
                method: IMPORT
              integration: get-custom-objects
              schema:
                type: object
                associations: true
                endgrate_type: Custom
                properties:
                required: []
                title: custom
                session_method: IMPORT
              passthrough_fields:
                customfield1:
                  type: string
                required: [customfield1]
          additionalProperties:
            type: object
            properties:
              integration_info:
                type: object
                description: Integration information.
                properties:
                  name:
                    type: string
                    examples:
                      - get-custom-objects
                  display_name:
                    type: string
                    examples:
                      - Get Custom Objects
                  method:
                    type: string
                    examples: 
                      - IMPORT
                    enum:
                      - IMPORT
                      - EXPORT
                  endgrate_type:
                    type: string
                    description: A valid `endgrate_type` for the session. If no `endgrate_type` was specified, the title of the schema can be used instead.
                    examples:
                      - accounting-address
                      - accounting-company
                      - accounting-contact
                      - accounting-contact_people
                      - accounting-invoice
                      - accounting-payment
                      - accounting-product
                      - accounting-purchase_order
                      - analytics-lead
                      - analytics-note
                      - analytics-page_analytics
                      - analytics-page_views
                      - analytics-user
                      - analytics-user_count
                      - ats-candidate
                      - calendar-event
                      - communication-meeting
                      - communication-message_history
                      - communication-user
                      - crm-activity
                      - crm-company
                      - crm-contact
                      - crm-deal
                      - crm-lead
                      - crm-customer
                      - crm-note
                      - crm-policy
                      - crm-product
                      - crm-task
                      - crm-ticket
                      - crm-user
                      - database-user
                      - ecommerce-customer
                      - ecommerce-order
                      - ecommerce-product
                      - ecommerce-product_category
                      - ecommerce-product_collection
                      - ecommerce-product_variant
                      - forms-lead
                      - forms-question
                      - helpdesk-company
                      - helpdesk-contact
                      - helpdesk-note
                      - helpdesk-user
                      - helpdesk-message
                      - marketing-contact
                      - marketing-customer
                      - marketing-lead
                      - marketing-user
                      - prospecting-company
                      - prospecting-contact
                      - workspace-task
                      - workspace-user
                      - access_control-device
                      - access_control-pin
                  supports_associations:
                    type: boolean
                    examples:
                      - true
              schema:
                type: object
                description: JSON schema of the endgrate type.
                properties:
                  type:
                    type: string
                    examples:
                      - object
                    enum:
                      - object
                  associations:
                    type: boolean
                    examples: 
                      - true
                  endgrate_type:
                    type: string
                    examples:
                      - Custom Object
                  properties:
                    type: object
                  title:
                    type: string
                    examples:
                      - Custom Object
                  session_method:
                    type: string
                    examples:
                      - IMPORT
              passthrough_fields:
                type: object
                description: JSON schema of passthrough fields. For passthough schemas, all properties are passthrough fields.
                properties:
                  properties:
                    type: object
                    example:
                      customfield1:
                        title: Custom Field 1
                        type: string
                    additionalProperties:
                      type: object
                      properties:
                        title:
                          type: string
                        type:
                          type: string
                  required:
                    type: array
                    examples:
                      - customfield1
                    items:
                      type: string
    DataCallbackSchema:
      type: object
      properties:
        success:
          type: boolean
          examples:
            - true
        transfer_id:
          type: string
          examples:
            - 6566e87b7cf20dca9cef0c0d
        session_id:
          type: string
          examples:
            - 6566e85e7cf20dca9cef0c0a
        metadata:
          type: object
          description: The metadata from ${request.body#/data_webhook/metadata}.
          additionalProperties:
            type:
              - string
              - integer
              - boolean
          examples:
            - user_id: 1
        endgrate:
          type: object
          properties:
            endgrate_type:
              type: string
              description: A valid `endgrate_type` for the session. If no `endgrate_type` was specified, the title of the schema can be used instead.
              examples:
                - accounting-address
                - accounting-company
                - accounting-contact
                - accounting-contact_people
                - accounting-invoice
                - accounting-payment
                - accounting-product
                - accounting-purchase_order
                - analytics-lead
                - analytics-note
                - analytics-page_analytics
                - analytics-page_views
                - analytics-user
                - analytics-user_count
                - ats-candidate
                - calendar-event
                - communication-meeting
                - communication-message_history
                - communication-user
                - crm-activity
                - crm-company
                - crm-contact
                - crm-deal
                - crm-lead
                - crm-customer
                - crm-note
                - crm-policy
                - crm-product
                - crm-task
                - crm-ticket
                - crm-user
                - database-user
                - ecommerce-customer
                - ecommerce-order
                - ecommerce-product
                - ecommerce-product_category
                - ecommerce-product_collection
                - ecommerce-product_variant
                - forms-lead
                - forms-question
                - helpdesk-company
                - helpdesk-contact
                - helpdesk-note
                - helpdesk-user
                - helpdesk-message
                - marketing-contact
                - marketing-customer
                - marketing-lead
                - marketing-user
                - prospecting-company
                - prospecting-contact
                - workspace-task
                - workspace-user
                - access_control-device
                - access_control-pin
        completed:
          type: boolean
          examples:
            - false
          description: Whether or not the transfer has completed.
        transfer_data:
          $ref: '#/components/schemas/TransferDataSchema'
    ErrorListSchema:
      type: object
      properties:
        pk:
          type: string
          examples:
            - 65c9c40982664224123cebd5
        transfer_id:
          type: string
          examples: 
            - 6566e87b7cf20dca9cef0c0d
        session_id:
          type: string
          examples: 
            - 6566e85e7cf20dca9cef0c0a
        timestamp:
          type: string
          examples:
            - '2023-08-28T02:04:08.917Z'
        error_resolve_text:
          type: string
          examples: 
            - There is a mapping error or invalid data point in one or more fields. The field 'testdate' looks like a date and is not a valid long number. It must be a valid long number.
        error_type:
          type: string
          examples:
            - mapping
          description: The `internal` error type indicates a problem with the internal server. The `integration` error type indicates a problem with the chosen integration. The `upstream` error type indicates a problem that arises from the integration provider. Errors classified as `authentication` are related to user authentication processes, including login issues or problems with access tokens. Lastly, `mapping` errors occur when there are discrepancies or issues in data mapping, such as invalid data points or incorrect alignments of data fields.
          enum:
            - internal
            - integration
            - upstream
            - authentication
            - mapping
        resolved:
          type: boolean
          examples:
            - false
        endgrate:
          type: object
          properties:
            provider_info:
              type: object
              description: Provider information.
              properties:
                name:
                  type: string
                  examples: 
                    - hubspot
                display_name:
                  type: string
                  examples: 
                    - HubSpot
                url:
                  type: string
                  examples: 
                    - https://www.hubspot.com/
                image:
                  type: string
                  examples: 
                    - https://endgrate.nyc3.cdn.digitaloceanspaces.com/integration/hubspot.png
                auth_type:
                  type: string
                  examples: 
                    - oauth
                  enum:
                    - oauth
                    - api_key
                    - custom
                specific:
                  type: object
                endgrate_provider_type:
                  type: string
                  examples: 
                    - CRM
            integration_info:
              type: object
              description: Integration information.
              properties:
                name:
                  type: string
                  examples:
                    - get-contacts
                display_name:
                  type: string
                  examples: 
                    - Get Contacts
                method:
                  type: string
                  examples: 
                    - IMPORT
                  enum:
                    - IMPORT
                    - EXPORT
                endgrate_type:
                  type: string
                  examples: 
                    - crm-contact
                supports_associations:
                  type: boolean
                  examples: 
                    - true
    ErrorCallbackSchema:
      type: object
      properties:
        success:
          type: boolean
          examples:
            - true
        pk:
          type: string
          examples:
            - 65c9c40982664224123cebd5
        transfer_id:
          type: string
          examples: 
            - 6566e87b7cf20dca9cef0c0d
        session_id:
          type: string
          examples: 
            - 6566e85e7cf20dca9cef0c0a
        timestamp:
          type: string
          examples:
            - '2023-08-28T02:04:08.917Z'
        error_resolve_text:
          type: string
          examples: 
            - There is a mapping error or invalid data point in one or more fields. The field 'testdate' looks like a date and is not a valid long number. It must be a valid long number.
        error_type:
          type: string
          examples:
            - mapping
          description: The `internal` error type indicates a problem with the internal server. The `integration` error type indicates a problem with the chosen integration. The `upstream` error type indicates a problem that arises from the integration provider. Errors classified as `authentication` are related to user authentication processes, including login issues or problems with access tokens. Lastly, `mapping` errors occur when there are discrepancies or issues in data mapping, such as invalid data points or incorrect alignments of data fields.
          enum:
            - internal
            - integration
            - upstream
            - authentication
            - mapping
        resolved:
          type: boolean
          examples:
            - false
        endgrate:
          type: object
          properties:
            provider_info:
              type: object
              description: Provider information.
              properties:
                name:
                  type: string
                  examples: 
                    - hubspot
                display_name:
                  type: string
                  examples: 
                    - HubSpot
                url:
                  type: string
                  examples: 
                    - https://www.hubspot.com/
                image:
                  type: string
                  examples: 
                    - https://endgrate.nyc3.cdn.digitaloceanspaces.com/integration/hubspot.png
                auth_type:
                  type: string
                  examples: 
                    - oauth
                  enum:
                    - oauth
                    - api_key
                    - custom
                specific:
                  type: object
                endgrate_provider_type:
                  type: string
                  examples: 
                    - CRM
            integration_info:
              type: object
              description: Integration information.
              properties:
                name:
                  type: string
                  examples:
                    - get-contacts
                display_name:
                  type: string
                  examples: 
                    - Get Contacts
                method:
                  type: string
                  examples: 
                    - IMPORT
                  enum:
                    - IMPORT
                    - EXPORT
                endgrate_type:
                  type: string
                  examples: 
                    - crm-contact
                supports_associations:
                  type: boolean
                  examples: 
                    - true
    DataWebhookSchema:
      additionalProperties: false
      properties:
        continuous:
          type: boolean
          description: Whether or not to allow Endgrate to continuously trigger transfers on your behalf, polling for new data every 15 minutes.
          examples: 
            - true
        endpoint:
          type: string
          examples: 
            - "https://httpbin.org/post"
        metadata:
          type: object
          description: Any information to be passed back in the webhook call.
          additionalProperties:
            type:
              - string
              - integer
              - boolean
          examples:
            - user_id: 1
      required:
        - endpoint
      title: DataWebhookSchema
      type: object
    TransferResponseSchema:
      title: TransferResponseSchema
      type: object
      additionalProperties: false
      properties:
        success:
          type: boolean
        transfer_id:
          type: string
        statistics:
          type: string
    EndgrateJsonSchema:
      title: EndgrateJsonSchema
      type: object
      additionalProperties: false
      description: full JSON schema of objects.
      properties:
        type:
          type: string
          examples: 
            - object
          enum:
            - object
        associations:
          type: boolean
          examples: 
            - false
        endgrate_type:
          type: string
          description: This field requires a valid `endgrate_type`. If you choose not to utilize a predefined `endgrate_type`, you must provide a `title`.
          examples:
          - crm-contact
          enum:
            - accounting-address
            - accounting-company
            - accounting-contact
            - accounting-contact_people
            - accounting-invoice
            - accounting-payment
            - accounting-product
            - accounting-purchase_order
            - analytics-lead
            - analytics-note
            - analytics-page_analytics
            - analytics-page_views
            - analytics-user
            - analytics-user_count
            - ats-candidate
            - calendar-event
            - communication-meeting
            - communication-message_history
            - communication-user
            - crm-activity
            - crm-company
            - crm-contact
            - crm-deal
            - crm-lead
            - crm-customer
            - crm-note
            - crm-policy
            - crm-product
            - crm-task
            - crm-ticket
            - crm-user
            - database-user
            - ecommerce-customer
            - ecommerce-order
            - ecommerce-product
            - ecommerce-product_category
            - ecommerce-product_collection
            - ecommerce-product_variant
            - forms-lead
            - forms-question
            - helpdesk-company
            - helpdesk-contact
            - helpdesk-note
            - helpdesk-user
            - helpdesk-message
            - marketing-contact
            - marketing-customer
            - marketing-lead
            - marketing-user
            - prospecting-company
            - prospecting-contact
            - workspace-task
            - workspace-user
            - access_control-device
            - access_control-pin
        properties:
          type: object
          example:
            email:
              type: string
              format: email
            first_name:
              type: string
            last_name:
              type: string
            full_name:
              type: string
            company:
              type: string
            age:
              type: number
            is_employed:
              type: boolean
            lifecyclestage:
              title: Lifecycle Stage
              type: string
          additionalProperties:
            type: object
            properties:
              format:
                type: string
              type:
                type: string
              title:
                type: string
        required:
          type: array
          examples:
            - email
          items:
            type: string
        title:
          type: string
          description: The `title` of this schema that will be displayed to the user. If no `endgrate_type` has been provided, `title` should be used as a substitute for `endgrate_type` in subsequent API calls. 
          examples: 
            - Contact
    DefaultSuccessSchema:
      additionalProperties: false
      properties:
        success:
          type: boolean
        session_id:
          type: string
      title: DefaultSuccessSchema
      type: object
    DeleteSchema:
      additionalProperties: false
      properties:
        session_id:
          type: string
      required:
        - session_id
      title: DeleteSchema
      type: object
    Error:
      additionalProperties: false
      properties:
        errors:
          type: object
        message:
          type: string
      required:
        - message
      title: Error
      type: object
    PullInitiateSchema:
      additionalProperties: false
      properties:
        completed_webhook:
          description: Endgrate will POST to this webhook whenever a transfer is completed.
          $ref: '#/components/schemas/WebhookSchema'
        configuration_webhook:
          description: Endgrate will POST to this webhook when the session is configured by the user.
          $ref: '#/components/schemas/WebhookSchema'
        data_webhook:
          description: Endgrate will POST to this webhook whenever new data is received.
          $ref: '#/components/schemas/DataWebhookSchema'
        error_webhook:
          description: Endgrate will POST to this webhook whenever an error occurs.
          $ref: '#/components/schemas/WebhookSchema'
        field_selection:
          description: Whether or not to allow the user to configure field mapping.
          type: boolean
          default: false
          examples: 
            - false
        passthrough_fields:
          description: Whether or not passthrough fields are allowed.
          type: boolean
          default: false
          examples: 
            - false
        passthrough_schemas:
          description: Whether or not passthrough schemas are allowed.
          type: boolean
          default: false
          examples: 
            - false
        sync:
          description: Whether or not to return only updated (new) data when pulling data.
          type: boolean
          default: false
          examples: 
            - false
        prepopulate:
          type: object
        provider:
          description: A pre-selected integration provider. If specified, the user will be directly redirected to the specific authentication page.
          type: string
          examples: 
            - hubspot
        redirect_url:
          description: A URL that users will be redirected to after setting up the session.
          type: string
          examples: 
            - https://www.google.com/
        resource_selection:
          description: Whether or not to allow the user to choose the integrations for a given schema (e.g. choosing "Get Contacts" for a contact schema).
          type: boolean
          default: false
          examples: 
            - false
        save_session:
          description: Whether or not the session should be persisted permanently. If false, sessions will expire after 72 hours.
          type: boolean
          default: false
          examples: 
            - false
        category:
          description: An integration category. If specified, all default schemas from the category will be added for this session.
          type: string
          examples:
            - crm
            - ecommerce
            - helpdesk
          enum:
            - accounting
            - analytics
            - ats
            - calendar
            - communication
            - crm
            - database
            - ecommerce
            - forms
            - helpdesk
            - marketing
            - prospecting
            - workspace
        schema:
          description: An array of schemas to be pulled in.
          type: array
          items:
            $ref: '#/components/schemas/EndgrateJsonSchema'
        schema_selection:
          description: Whether or not to allow the user to choose which schemas to pull in.
          type: boolean
          default: false
          examples: 
            - false
        statistics:
          description: Whether or not to allow the user to see transfer statistics.
          type: boolean
          default: false
          examples:
            - false
        webhook_concurrency:
          description: Whether or not to execute POST requests to webhooks concurrently.
          type: boolean
          default: false
          examples: 
            - false
        bypass_ui:
          description: Whether or not the Endgrate UI should be bypassed (Beta).
          type: boolean
          default: false
          examples: 
            - false
      title: PullInitiateSchema
      type: object
    PullTransferSchema:
      additionalProperties: false
      properties:
        bypass_rate_limit:
          description: Whether or not to bypass the integration/provider rate limit when transferring data.
          type: boolean
          default: false
          examples: 
            - false
        endgrate_type:
          type: string
          description: A valid `endgrate_type` for the session. If no `endgrate_type` was specified, the title of the schema can be used instead.
          examples:
            - accounting-address
            - accounting-company
            - accounting-contact
            - accounting-contact_people
            - accounting-invoice
            - accounting-payment
            - accounting-product
            - accounting-purchase_order
            - analytics-lead
            - analytics-note
            - analytics-page_analytics
            - analytics-page_views
            - analytics-user
            - analytics-user_count
            - ats-candidate
            - calendar-event
            - communication-meeting
            - communication-message_history
            - communication-user
            - crm-activity
            - crm-company
            - crm-contact
            - crm-deal
            - crm-lead
            - crm-customer
            - crm-note
            - crm-policy
            - crm-product
            - crm-task
            - crm-ticket
            - crm-user
            - database-user
            - ecommerce-customer
            - ecommerce-order
            - ecommerce-product
            - ecommerce-product_category
            - ecommerce-product_collection
            - ecommerce-product_variant
            - forms-lead
            - forms-question
            - helpdesk-company
            - helpdesk-contact
            - helpdesk-note
            - helpdesk-user
            - helpdesk-message
            - marketing-contact
            - marketing-customer
            - marketing-lead
            - marketing-user
            - prospecting-company
            - prospecting-contact
            - workspace-task
            - workspace-user
            - access_control-device
            - access_control-pin
        params:
          type: object
          description: Optionally, filter by certain properties in your schema by specifying them here.
        session_id:
          type: string
          examples: 
            - 6566e85e7cf20dca9cef0c0a
        synchronous:
          description: Whether or not to make this API request synchronous. If true, Endgrate will poll the status of the transfer interally, and return only when the transfer is completed, with a 5 minute maximum polling time.
          type: boolean
          default: false
          examples: 
            - false
      required:
        - endgrate_type
        - session_id
      title: PullTransferSchema
      type: object
    PushInitiateSchema:
      additionalProperties: false
      properties:
        completed_webhook:
          description: Endgrate will POST to this webhook whenever a transfer is completed.
          $ref: '#/components/schemas/WebhookSchema'
        configuration_webhook:
          description: Endgrate will POST to this webhook when the session is configured by the user.
          $ref: '#/components/schemas/WebhookSchema'
        error_webhook:
          description: Endgrate will POST to this webhook whenever an error occurs.
          $ref: '#/components/schemas/WebhookSchema'
        field_selection:
          description: Whether or not to allow the user to configure field mapping.
          type: boolean
          default: false
          examples: 
            - false
        prepopulate:
          type: object
        provider:
          description: A pre-selected integration provider. If specified, the user will be directly redirected to the specific authentication page.
          type: string
          examples: 
            - hubspot
        redirect_url:
          description: A URL that users will be redirected to after setting up the session.
          type: string
          examples:
            - https://www.google.com
        resource_selection:
          description: Whether or not to allow the user to choose the integrations for a given schema (e.g. choosing "Get Contacts" for a contact schema).
          type: boolean
          default: false
          examples:
            - false
        save_session:
          description: Whether or not the session should be persisted permanently. If false, sessions will expire after 72 hours.
          type: boolean
          default: false
          examples: 
            - false
        category:
          description: An integration category. If specified, all default schemas from the category will be added for this session.
          type: string
          examples:
            - crm
            - ecommerce
            - helpdesk
          enum:
            - accounting
            - analytics
            - ats
            - calendar
            - communication
            - crm
            - database
            - ecommerce
            - forms
            - helpdesk
            - marketing
            - prospecting
            - workspace
        schema:
          description: An array of schemas to be pushed out.
          type: array
          items:
            $ref: '#/components/schemas/EndgrateJsonSchema'
        schema_selection:
          description: Whether or not to allow the user to choose which schemas to pull in.
          type: boolean
          default: false
          examples: 
            - false
        statistics:
          description: Whether or not to allow the user to see transfer statistics.
          type: boolean
          default: false
          examples:
            - false
        webhook_concurrency:
          description: Whether or not to execute POST requests to webhooks concurrently.
          type: boolean
          default: false
          examples: 
            - false
        bypass_ui:
          description: Whether or not the Endgrate UI should be bypassed (Beta).
          type: boolean
          default: false
          examples: 
            - false
      title: PushInitiateSchema
      type: object
    PushTransferSchema:
      additionalProperties: false
      properties:
        bypass_rate_limit:
          description: Whether or not to bypass the integration/provider rate limit when transferring data.
          type: boolean
          default: false
          examples: 
            - false
        endgrate_type:
          type: string
          description: A valid `endgrate_type` for the session. If no `endgrate_type` was specified, the title of the schema can be used instead.
          examples:
            - accounting-address
            - accounting-company
            - accounting-contact
            - accounting-contact_people
            - accounting-invoice
            - accounting-payment
            - accounting-product
            - accounting-purchase_order
            - analytics-lead
            - analytics-note
            - analytics-page_analytics
            - analytics-page_views
            - analytics-user
            - analytics-user_count
            - ats-candidate
            - calendar-event
            - communication-meeting
            - communication-message_history
            - communication-user
            - crm-activity
            - crm-company
            - crm-contact
            - crm-deal
            - crm-lead
            - crm-customer
            - crm-note
            - crm-policy
            - crm-product
            - crm-task
            - crm-ticket
            - crm-user
            - database-user
            - ecommerce-customer
            - ecommerce-order
            - ecommerce-product
            - ecommerce-product_category
            - ecommerce-product_collection
            - ecommerce-product_variant
            - forms-lead
            - forms-question
            - helpdesk-company
            - helpdesk-contact
            - helpdesk-note
            - helpdesk-user
            - helpdesk-message
            - marketing-contact
            - marketing-customer
            - marketing-lead
            - marketing-user
            - prospecting-company
            - prospecting-contact
            - workspace-task
            - workspace-user
            - access_control-device
            - access_control-pin
        session_id:
          type: string
          examples: 
            - 6566e85e7cf20dca9cef0c0a
        synchronous:
          description: Whether or not to make this API request synchronous. If true, If true, Endgrate will poll the status of the transfer interally, and return only when the transfer is completed, with a 5 minute maximum polling time.
          type: boolean
          default: false
          examples: 
            - false
        transfer_data:
          description: An array of transfer data to be pushed out.
          items:
            type: object
            properties:
              data:
                type: object
                description: Transfer data conforming to the specified `endgrate_type` or custom schema.
          type: array
      required:
        - endgrate_type
        - transfer_data
        - session_id
      title: PushTransferSchema
      type: object
    SessionInitiateSchema:
      additionalProperties: false
      properties:
        completed_webhook:
          description: Endgrate will POST to this webhook whenever a transfer is completed.
          $ref: '#/components/schemas/WebhookSchema'
        configuration_webhook:
          description: Endgrate will POST to this webhook when the session is configured by the user.
          $ref: '#/components/schemas/WebhookSchema'
        data_webhook:
          description: Endgrate will POST to this webhook whenever new data is received.
          $ref: '#/components/schemas/DataWebhookSchema'
        error_webhook:
          description: Endgrate will POST to this webhook whenever an error occurs.
          $ref: '#/components/schemas/WebhookSchema'
        field_selection:
          description: Whether or not to allow the user to configure field mapping.
          type: boolean
          default: false
          examples:
            - false
        passthrough_fields:
          description: Whether or not passthrough fields are allowed.
          type: boolean
          default: false
          examples: 
            - false
        passthrough_schemas:
          description: Whether or not passthrough schemas are allowed.
          type: boolean
          default: false
          examples: 
            - false
        sync:
          description: Whether or not to return only updated (new) data when pulling data.
          type: boolean
          default: false
          examples: 
            - false
        prepopulate:
          type: object
        provider:
          description: A pre-selected integration provider. If specified, the user will be directly redirected to the specific authentication page.
          type: string
          examples: 
            - hubspot
        redirect_url:
          description: A URL that users will be redirected to after setting up the session.
          type: string
          examples: 
            - https://www.google.com
        resource_selection:
          description: Whether or not to allow the user to choose the integrations for a given schema (e.g. choosing "Get Contacts" for a contact schema).
          type: boolean
          default: false
          examples: 
            - false
        save_session:
          description: Whether or not the session should be persisted permanently. If false, sessions will expire after 72 hours.
          type: boolean
          default: false
          examples: 
            - false
        category:
          description: An integration category. If specified, all default schemas from the category will be added for this session.
          type: string
          examples:
            - crm
            - ecommerce
            - helpdesk
          enum:
            - accounting
            - analytics
            - ats
            - calendar
            - communication
            - crm
            - database
            - ecommerce
            - forms
            - helpdesk
            - marketing
            - prospecting
            - workspace
        schema:
          description: An array of schemas.
          type: array
          items:
            $ref: '#/components/schemas/EndgrateJsonSchema'
        schema_selection:
          description: Whether or not to allow the user to choose which schemas to pull in.
          type: boolean
          default: false
          examples: 
            - false
        statistics:
          description: Whether or not to allow the user to see transfer statistics.
          type: boolean
          default: false
          examples:
            - false
        webhook_concurrency:
          description: Whether or not to execute POST requests to webhooks concurrently.
          type: boolean
          default: false
          examples: 
            - false
        bypass_ui:
          description: Whether or not the Endgrate UI should be bypassed (Beta).
          type: boolean
          default: false
          examples: 
            - false
      title: SessionInitiateSchema
      type: object
    WebhookSchema:
      additionalProperties: false
      properties:
        endpoint:
          type: string
          examples:
          - "https://httpbin.org/post"
        metadata:
          type: object
          description: Any information to be passed back in the webhook call.
          additionalProperties:
            type:
              - string
              - integer
              - boolean
          example:
            user_id: 1
      required:
        - endpoint
      title: WebhookSchema
      type: object
info:
  title: Endgrate API
  version: 1.0.0
  description: Endgrate API Reference
  termsOfService: https://dashboard.endgrate.com/terms
  contact:
    email: team@endgrate.com
    name: Endgrate Team
openapi: 3.1.0
paths:
  /api/errors:
    get:
      tags: ["Metadata"]
      summary: Get Error Logs
      security:
        - BearerAuth: []
      operationId: get_api_errors
      parameters:
        - in: query
          name: limit
          required: false
          example: 250
          schema:
            maximum: 250
            minimum: 1
            type: integer
            default: 250
        - in: query
          name: offset
          required: false
          example: 500
          schema:
            minimum: 0
            type: integer
            default: 0
        - in: query
          name: session_id
          required: false
          example: 6566e85e7cf20dca9cef0c0a
          schema:
            type: string
        - in: query
          name: transfer_id
          required: false
          example: 6566e87b7cf20dca9cef0c0d
          schema:
            type: string
      responses:
        '200':
          description: Success
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                  meta:
                    type: object
                    properties:
                      count:
                        type: integer
                        examples: 
                          - 1000
                      previous:
                        type: object
                        properties:
                          offset:
                            type: integer
                            examples: 
                              - 100
                      next:
                        type: object
                        properties:
                          offset:
                            type: integer
                            examples: 
                              - 300
                  errors:
                    type: array
                    items:
                      $ref: '#/components/schemas/ErrorListSchema'
        default:
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
          description: Error
  /api/integrations:
    get:
      tags: ["Metadata"]
      summary: Get Integrations
      security: []
      operationId: get_api_integrations
      parameters:
        - in: query
          name: provider
          required: false
          schema:
            type: string
            example: hubspot
        - in: query
          name: category
          required: false
          schema:
            type: string
            example: CRM
        - in: query
          name: session_id
          required: false
          schema:
            type: string
            example: 6566e85e7cf20dca9cef0c0a
      responses:
        '200':
          description: Success
          content:
            application/json:
              schema:
                type: object
                properties:
                  providers:
                    type: array
                    items:
                      type: object
                      properties:
                        provider:
                          type: object
                          properties:
                            name:
                              type: string
                              example: hubspot
                            display_name:
                              type: string
                              example: HubSpot
                            url:
                              type: string
                              example: https://www.hubspot.com/
                            image:
                              type: string
                              example: https://endgrate.nyc3.cdn.digitaloceanspaces.com/integration/hubspot.png
                            auth_type:
                              type: string
                              example: oauth
                              enum:
                                - oauth
                                - api_key
                                - custom
                            specific:
                              type: object
                            endgrate_provider_type:
                              type: string
                              example: CRM        
                        integrations:
                          type: array
                          items:
                            properties:
                              display_name:
                                type: string
                                example: Contact
                              endgrate_type:
                                type: string
                                example: crm-contact
                              supports_push:
                                type: boolean
                                example: true
                              supports_pull:
                                type: boolean
                                example: true
                              is_custom_object:
                                type: boolean
                                example: false
                              supports_associations:
                                type: boolean
                                example: true
        default:
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
          description: Error
  /api/schemas:
    post:
      tags: ["Settings"]
      summary: Set Schemas
      security:
        - BearerAuth: []
      operationId: post_api_schemas
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                session_id:
                  type: string
                  example: 6566e85e7cf20dca9cef0c0a
                data:
                  type: array
                  items:
                    type: object
                    properties:
                      endgrate_type:
                        type: string
                        example: "crm-contact"
                      associations:
                        type: boolean
                        example: true
      responses:
        '200':
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/DefaultSuccessSchema'
              example:
                success: true
                session_id: 6566e85e7cf20dca9cef0c0a
        default:
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
          description: Error
  /api/pull/initiate:
    post:
      tags: ["Session"]
      summary: Initiate Pull Session
      security:
        - BearerAuth: []
      operationId: post_api_pull_initiate
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PullInitiateSchema'
            examples:
              Simple:
                value:
                  schema:
                    - endgrate_type: crm-contact
              Enable All UX Screens:
                value:
                  field_selection: true
                  resource_selection: true
                  schema:
                    - endgrate_type: crm-contact
                  schema_selection: true
              Enable Sync:
                value:
                  schema:
                    - endgrate_type: crm-contact
                  sync: true
                  save_session: true
              Enable Associations:
                value:
                  schema:
                  - endgrate_type: crm-contact
                    associations: true
                  - endgrate_type: crm-company
              Enable Passthrough:
                value:
                  field_selection: true
                  resource_selection: true
                  schema:
                    - endgrate_type: crm-contact
                  passthrough_fields: true
                  passthrough_schemas: true
                  schema_selection: true
              Comprehensive:
                value:
                  completed_webhook:
                    endpoint: https://httpbin.org/post
                    metadata:
                      user_id: 1
                  configuration_webhook:
                    endpoint: https://httpbin.org/post
                    metadata:
                      user_id: 1
                  data_webhook:
                    endpoint: https://httpbin.org/post
                    metadata:
                      user_id: 1
                  error_webhook:
                    endpoint: https://httpbin.org/post
                    metadata:
                      user_id: 1
                  field_selection: false
                  passthrough_fields: false
                  passthrough_schemas: false
                  sync: false
                  prepopulate: {}
                  provider: hubspot
                  redirect_url: https://www.google.com/
                  resource_selection: false
                  save_session: false
                  schema:
                    - endgrate_type: crm-contact
                  schema_selection: false
                  statistics: false
                  webhook_concurrency: false
                  bypass_ui: false
        required: true
      callbacks:
        completed_webhook:
          '{$request.body#/completed_webhook/url}':
            post:
              summary: Endgrate will POST to this webhook whenever a transfer is completed. This is useful if you want to display a completion message to your users.
              requestBody:
                required: true
                content:
                  application/json:
                    schema:
                      $ref: '#/components/schemas/CompletedCallbackSchema'
              responses:
                '200':
                  description: Process callback
        configuration_webhook:
          '{$request.body#/configuration_webhook/url}':
            post:
              summary: Endgrate will POST to this webhook when the session is configured by the user. This is useful if you want to get the integration provider chosen, any passthrough schemas, or passthrough fields without polling the GET api/session/configuration endpoint.
              requestBody:
                required: true
                content:
                  application/json:
                    schema:
                      allOf:
                        - type: object
                          properties:
                            metadata:
                              type: object
                              description: The metadata from ${request.body#/data_webhook/metadata}.
                              additionalProperties:
                                type:
                                  - string
                                  - integer
                                  - boolean
                              example:
                                user_id: 1
                              
                        - $ref: '#/components/schemas/ConfigurationCallbackSchema'
              responses:
                '200':
                  description: Process callback
        data_webhook:
          '{$request.body#/data_webhook/url}':
            post:
              summary: Endgrate will POST to this webhook whenever new data is received. This is useful if you want to get transfer data without polling the GET api/pull/data endpoint.
              requestBody:
                required: true
                content:
                  application/json:
                    schema:
                      $ref: '#/components/schemas/DataCallbackSchema'
              responses:
                '200':
                  description: Process callback
        error_webhook:
          '{$request.body.error_webhook/url}':
            post:
              summary: Endgrate will POST to this webhook whenever an error occurs. This endpoint is useful if you want to get error information without polling the GET api/errors endpoint.
              requestBody:
                required: true
                content:
                  application/json:
                    schema:
                      allOf:
                        - type: object
                          properties:
                            metadata:
                              type: object
                              description: The metadata from ${request.body#/error_webhook/metadata}.
                              additionalProperties:
                                type:
                                  - string
                                  - integer
                                  - boolean
                              example:
                                user_id: 1
                            success:
                              type: boolean
                              examples: 
                              - true
                        - $ref: '#/components/schemas/ErrorCallbackSchema'                      
              responses:
                '200':
                  description: Process callback
      responses:
        '200':
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/DefaultSuccessSchema'
              example:
                success: true
                session_id: 6566e85e7cf20dca9cef0c0a
        default:
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
          description: Error
  /api/pull/data:
    get:
      tags: ["Transfer"]
      summary: Get Pull Data
      security:
        - BearerAuth: []
      operationId: get_api_pull_data
      parameters:
        - in: query
          name: endgrate_type
          required: true
          description: A valid `endgrate_type` for the session. If no `endgrate_type` was specified, the title of the schema can be used instead.
          schema:
            type: string
            examples:
            - accounting-address
            - accounting-company
            - accounting-contact
            - accounting-contact_people
            - accounting-invoice
            - accounting-payment
            - accounting-product
            - accounting-purchase_order
            - analytics-lead
            - analytics-note
            - analytics-page_analytics
            - analytics-page_views
            - analytics-user
            - analytics-user_count
            - ats-candidate
            - calendar-event
            - communication-meeting
            - communication-message_history
            - communication-user
            - crm-activity
            - crm-company
            - crm-contact
            - crm-deal
            - crm-lead
            - crm-customer
            - crm-note
            - crm-policy
            - crm-product
            - crm-task
            - crm-ticket
            - crm-user
            - database-user
            - ecommerce-customer
            - ecommerce-order
            - ecommerce-product
            - ecommerce-product_category
            - ecommerce-product_collection
            - ecommerce-product_variant
            - forms-lead
            - forms-question
            - helpdesk-company
            - helpdesk-contact
            - helpdesk-note
            - helpdesk-user
            - helpdesk-message
            - marketing-contact
            - marketing-customer
            - marketing-lead
            - marketing-user
            - prospecting-company
            - prospecting-contact
            - workspace-task
            - workspace-user
            - access_control-device
            - access_control-pin
        - in: query
          name: limit
          required: false
          example: 250
          schema:
            maximum: 250
            minimum: 1
            type: integer
            default: 250
        - in: query
          name: offset
          required: false
          example: 500
          schema:
            minimum: 0
            type: integer
            default: 0
        - in: query
          name: transfer_id
          required: true
          example: 6566e89b7cf20dca9cef0c10
          schema:
            type: string
      responses:
        '200':
          description: Success
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                  meta:
                    type: object
                    description: Paging metadata.
                    properties:
                      count:
                        type: integer
                        examples: 
                        - 1000
                      previous:
                        type: object
                        properties:
                          offset:
                            type: integer
                            examples: 
                            - 100
                          link:
                            type: string
                            examples: 
                            - https://endgrate.com/api/pull/data?transfer_id=abcabc123123abcabc123123&limit=100&offset=100
                      next:
                        type: object
                        properties:
                          offset:
                            type: integer
                            examples: 
                            - 300
                          link:
                            type: string
                            examples: 
                            - https://endgrate.com/api/pull/data?transfer_id=abcabc123123abcabc123123&limit=100&offset=300
                  transfer_data:
                    $ref: '#/components/schemas/TransferDataSchema'
        '400':
          description: Transfer has not yet completed.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
              example:
                message: Transfer has not yet completed.
        default:
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
          description: Error
  /api/push/data:
    get:
      tags: ["Transfer"]
      summary: Get Push Data
      security:
        - BearerAuth: []
      operationId: get_api_push_data
      parameters:
        - in: query
          name: endgrate_type
          required: true
          description: A valid `endgrate_type` for the session. If no `endgrate_type` was specified, the title of the schema can be used instead.
          schema:
            type: string
            examples:
            - accounting-address
            - accounting-company
            - accounting-contact
            - accounting-contact_people
            - accounting-invoice
            - accounting-payment
            - accounting-product
            - accounting-purchase_order
            - analytics-lead
            - analytics-note
            - analytics-page_analytics
            - analytics-page_views
            - analytics-user
            - analytics-user_count
            - ats-candidate
            - calendar-event
            - communication-meeting
            - communication-message_history
            - communication-user
            - crm-activity
            - crm-company
            - crm-contact
            - crm-deal
            - crm-lead
            - crm-customer
            - crm-note
            - crm-policy
            - crm-product
            - crm-task
            - crm-ticket
            - crm-user
            - database-user
            - ecommerce-customer
            - ecommerce-order
            - ecommerce-product
            - ecommerce-product_category
            - ecommerce-product_collection
            - ecommerce-product_variant
            - forms-lead
            - forms-question
            - helpdesk-company
            - helpdesk-contact
            - helpdesk-note
            - helpdesk-user
            - helpdesk-message
            - marketing-contact
            - marketing-customer
            - marketing-lead
            - marketing-user
            - prospecting-company
            - prospecting-contact
            - workspace-task
            - workspace-user
            - access_control-device
            - access_control-pin
        - in: query
          name: limit
          required: false
          example: 250
          schema:
            maximum: 250
            minimum: 1
            type: integer
            default: 250
        - in: query
          name: offset
          required: false
          example: 500
          schema:
            minimum: 0
            type: integer
            default: 0
        - in: query
          name: transfer_id
          required: true
          example: 6566e89b7cf20dca9cef0c10
          schema:
            type: string
      responses:
        '200':
          description: Success
          content:
            application/json:
              schema:
                type: object
                properties:
                  success:
                    type: boolean
                  meta:
                    type: object
                    description: Paging metadata.
                    properties:
                      count:
                        type: integer
                        examples: 
                        - 1000
                      previous:
                        type: object
                        properties:
                          offset:
                            type: integer
                            examples: 
                            - 100
                          link:
                            type: string
                            examples: 
                            - https://endgrate.com/api/pull/data?transfer_id=abcabc123123abcabc123123&limit=100&offset=100
                      next:
                        type: object
                        properties:
                          offset:
                            type: integer
                            examples: 
                            - 300
                          link:
                            type: string
                            examples: 
                            - https://endgrate.com/api/pull/data?transfer_id=abcabc123123abcabc123123&limit=100&offset=300
                  transfer_data:
                    $ref: '#/components/schemas/TransferDataSchema'
        '400':
          description: Transfer has not yet completed.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
              example:
                message: Transfer has not yet completed.
        default:
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
          description: Error
  /api/pull/transfer:
    post:
      tags: ["Transfer"]
      summary: Trigger Pull
      operationId: post_api_pull_transfer
      security:
        - BearerAuth: []
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PullTransferSchema'
        required: true
      responses:
        '200':
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TransferResponseSchema'
              example:
                success: true
                transfer_id: 6566e87b7cf20dca9cef0c0d
                statistics: https://endgrate.com/statistics?transfer_id=6566e87b7cf20dca9cef0c0d"
        default:
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
          description: Error
  /api/push/initiate:
    post:
      tags: ["Session"]
      summary: Initiate Push Session
      security:
        - BearerAuth: []
      operationId: post_api_push_initiate
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PushInitiateSchema'
            examples:
              Simple:
                value:
                  schema:
                    - endgrate_type: crm-contact
              Enable All UX Screens:
                value:
                  field_selection: true
                  resource_selection: true
                  schema:
                    - endgrate_type: crm-contact
                  schema_selection: true
              Enable Save Session:
                value:
                  schema:
                    - endgrate_type: crm-contact
                  save_session: true
              Comprehensive:
                value:
                  completed_webhook:
                    endpoint: https://httpbin.org/post
                    metadata:
                      user_id: 1
                  configuration_webhook:
                    endpoint: https://httpbin.org/post
                    metadata:
                      user_id: 1
                  error_webhook:
                    endpoint: https://httpbin.org/post
                    metadata:
                      user_id: 1
                  field_selection: false
                  prepopulate: {}
                  provider: hubspot
                  redirect_url: https://www.google.com/
                  resource_selection: false
                  save_session: false
                  schema:
                    - endgrate_type: crm-contact
                  schema_selection: false
                  statistics: false
                  webhook_concurrency: false
                  bypass_ui: false
        required: true
      callbacks:
        completed_webhook:
          '{$request.body#/completed_webhook/url}':
            post:
              summary: Endgrate will POST to this webhook whenever a transfer is completed. This is useful if you want to display a completion message to your users.
              requestBody:
                required: true
                content:
                  application/json:
                    schema:
                      $ref: '#/components/schemas/CompletedCallbackSchema'
              responses:
                '200':
                  description: Process callback
        configuration_webhook:
          '{$request.body#/configuration_webhook/url}':
            post:
              summary: Endgrate will POST to this webhook when the session is configured by the user. This is useful if you want to get the integration provider chosen, any passthrough schemas, or passthrough fields without polling the GET api/session/configuration endpoint.
              requestBody:
                required: true
                content:
                  application/json:
                    schema:
                      allOf:
                        - type: object
                          properties:
                            metadata:
                              type: object
                              description: The metadata from ${request.body#/data_webhook/metadata}.
                              additionalProperties:
                                type:
                                  - string
                                  - integer
                                  - boolean
                              example:
                                user_id: 1
                              
                        - $ref: '#/components/schemas/ConfigurationCallbackSchema'
              responses:
                '200':
                  description: Process callback
        error_webhook:
          '{$request.body.error_webhook/url}':
            post:
              summary: Endgrate will POST to this webhook whenever an error occurs. This endpoint is useful if you want to get error information without polling the GET api/errors endpoint.
              requestBody:
                required: true
                content:
                  application/json:
                    schema:
                      allOf:
                        - type: object
                          properties:
                            metadata:
                              type: object
                              description: The metadata from ${request.body#/error_webhook/metadata}.
                              additionalProperties:
                                type:
                                  - string
                                  - integer
                                  - boolean
                              example:
                                user_id: 1
                            success:
                              type: boolean
                              examples: 
                              - true
                        - $ref: '#/components/schemas/ErrorCallbackSchema'                      
              responses:
                '200':
                  description: Process callback
      responses:
        '200':
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/DefaultSuccessSchema'
              example:
                success: true
                session_id: 6566e85e7cf20dca9cef0c0a
        default:
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
          description: Error
  /api/push/transfer:
    post:
      tags: ["Transfer"]
      summary: Trigger Push
      operationId: post_api_push_transfer
      security:
        - BearerAuth: []
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PushTransferSchema'
        required: true
      responses:
        '200':
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TransferResponseSchema'
              example:
                success: true
                transfer_id: 6566e87b7cf20dca9cef0c0d
                statistics: https://endgrate.com/statistics?transfer_id=6566e87b7cf20dca9cef0c0d"
        default:
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
          description: Error
  /api/session/configuration:
    get:
      summary: Get Session Configuration
      tags: ["Settings"]
      operationId: get_api_session_configuration
      security:
        - BearerAuth: []
      parameters:
        - in: query
          name: session_id
          required: true
          schema:
            type: string
      responses:
        '200':
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ConfigurationCallbackSchema'
        default:
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
          description: Error
  /api/session/delete:
    post:
      summary: Delete Session
      tags: ["Settings"]
      operationId: get_api_session_delete
      security:
        - BearerAuth: []
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/DeleteSchema'
        required: true
      responses:
        '200':
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/DefaultSuccessSchema'
              example:
                success: true
                session_id: 6566e85e7cf20dca9cef0c0a
        default:
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
          description: Error
  /api/session/initiate:
    post:
      summary: Initiate (Push + Pull) Session
      tags: ["Session"]
      security:
        - BearerAuth: []
      operationId: post_api_session_initiate
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/SessionInitiateSchema'
            examples:
              Simple:
                value:
                  schema:
                    - endgrate_type: crm-contact
              Enable All UX Screens:
                value:
                  field_selection: true
                  resource_selection: true
                  schema:
                    - endgrate_type: crm-contact
                  schema_selection: true
              Enable Sync:
                value:
                  schema:
                    - endgrate_type: crm-contact
                  sync: true
                  save_session: true
              Enable Associations:
                value:
                  schema:
                  - endgrate_type: crm-contact
                    associations: true
                  - endgrate_type: crm-company
              Enable Passthrough:
                value:
                  field_selection: true
                  resource_selection: true
                  schema:
                    - endgrate_type: crm-contact
                  passthrough_fields: true
                  passthrough_schemas: true
                  schema_selection: true
              Comprehensive:
                value:
                  completed_webhook:
                    endpoint: https://httpbin.org/post
                    metadata:
                      user_id: 1
                  configuration_webhook:
                    endpoint: https://httpbin.org/post
                    metadata:
                      user_id: 1
                  data_webhook:
                    endpoint: https://httpbin.org/post
                    metadata:
                      user_id: 1
                  error_webhook:
                    endpoint: https://httpbin.org/post
                    metadata:
                      user_id: 1
                  field_selection: false
                  passthrough_fields: false
                  passthrough_schemas: false
                  sync: false
                  prepopulate: {}
                  provider: hubspot
                  redirect_url: https://www.google.com/
                  resource_selection: false
                  save_session: false
                  schema:
                    - endgrate_type: crm-contact
                  schema_selection: false
                  statistics: false
                  webhook_concurrency: false
                  bypass_ui: false
        required: true
      callbacks:
        completed_webhook:
          '{$request.body#/completed_webhook/url}':
            post:
              summary: Endgrate will POST to this webhook whenever a transfer is completed. This is useful if you want to display a completion message to your users.
              requestBody:
                required: true
                content:
                  application/json:
                    schema:
                      $ref: '#/components/schemas/CompletedCallbackSchema'
              responses:
                '200':
                  description: Process callback
        configuration_webhook:
          '{$request.body#/configuration_webhook/url}':
            post:
              summary: Endgrate will POST to this webhook when the session is configured by the user. This is useful if you want to get the integration provider chosen, any passthrough schemas, or passthrough fields without polling the GET api/session/configuration endpoint.
              requestBody:
                required: true
                content:
                  application/json:
                    schema:
                      allOf:
                        - type: object
                          properties:
                            metadata:
                              type: object
                              description: The metadata from ${request.body#/data_webhook/metadata}.
                              additionalProperties:
                                type:
                                  - string
                                  - integer
                                  - boolean
                              example:
                                user_id: 1
                              
                        - $ref: '#/components/schemas/ConfigurationCallbackSchema'
              responses:
                '200':
                  description: Process callback
        data_webhook:
          '{$request.body#/data_webhook/url}':
            post:
              summary: Endgrate will POST to this webhook whenever new data is received. This is useful if you want to get transfer data without polling the GET api/pull/data endpoint.
              requestBody:
                required: true
                content:
                  application/json:
                    schema:
                      $ref: '#/components/schemas/DataCallbackSchema'
              responses:
                '200':
                  description: Process callback
        error_webhook:
          '{$request.body.error_webhook/url}':
            post:
              summary: Endgrate will POST to this webhook whenever an error occurs. This endpoint is useful if you want to get error information without polling the GET api/errors endpoint.
              requestBody:
                required: true
                content:
                  application/json:
                    schema:
                      allOf:
                        - type: object
                          properties:
                            metadata:
                              type: object
                              description: The metadata from ${request.body#/error_webhook/metadata}.
                              additionalProperties:
                                type:
                                  - string
                                  - integer
                                  - boolean
                              example:
                                user_id: 1
                            success:
                              type: boolean
                              examples: 
                              - true
                        - $ref: '#/components/schemas/ErrorCallbackSchema'                      
              responses:
                '200':
                  description: Process callback
      responses:
        '200':
          description: Success
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/DefaultSuccessSchema'
              example:
                success: true
                session_id: 6566e85e7cf20dca9cef0c0a
        default:
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
          description: Error
  /api/statistics:
    get:
      summary: Get Statistics
      tags: ["Metadata"]
      operationId: get_api_statistics
      parameters:
        - in: query
          name: method
          required: false
          schema:
            type: string
            examples: 
            - IMPORT
            enum:
              - IMPORT
              - EXPORT
        - in: query
          name: session_id
          required: false
          schema:
            type: string
            examples: 
            - 6566e85e7cf20dca9cef0c0a
        - in: query
          name: transfer_id
          required: false
          schema:
            type: string
            examples: 
            - 6566e87b7cf20dca9cef0c0d
      responses:
        '200':
          description: Success
          content:
            application/json:
              schema:
                type: object
                properties:
                  method:
                    type: string
                    examples: 
                    - IMPORT
                    enum:
                      - IMPORT
                      - EXPORT
                  completed:
                    type: boolean
                    examples: 
                    - true
                  initiated:
                    type: string
                    examples: 
                    - 2023-12-02 02:15:51.998000
                  statistics:
                    type: object
                    additionalProperties:
                      type: object
                      properties:
                        batch_size:
                          type: integer
                          examples: 
                          - 200
                        records:
                          type: integer
                          examples: 
                          - 0
                        batches:
                          type: integer
                          examples: 
                          - 0
                        batches_queued:
                          type: integer
                          examples: 
                          - 0
                        batches_success:
                          type: integer
                          examples: 
                          - 0
                        batches_fail:
                          type: integer
                          examples: 
                          - 0       
                        records_transferred:
                          type: integer
                          examples: 
                          - 2
                        completed:
                          type: boolean
                          examples: 
                          - true
                        provider:
                          type: string
                          examples: 
                          - hubspot
                        integration:
                          type: string
                          examples: 
                          - get-contact
                    example:
                      crm-contact:
                        batch_size: 200
                        records: 0
                        batches: 0
                        batches_queued: 0
                        batches_success: 2
                        batches_fail: 0
                        records_transferred: 2
                        completed: true
                        provider: hubspot
                        integration: get-contact
        default:
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
          description: Error
  /session:
    get:
      summary: Session Redirect
      tags: ["Session"]
      operationId: get_session
      parameters:
        - in: query
          name: integration_provider_list_id
          required: false
          schema:
            type: string
            examples: 
            - 644488af883b70366f99a220
        - in: query
          name: session_id
          required: true
          schema:
            type: string
            examples: 
            - 6566e85e7cf20dca9cef0c0a
      responses:
        default:
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
          description: Error
  /session/edit:
    get:
      summary: Edit Session Redirect
      tags: ["Settings"]
      operationId: get_session_edit
      parameters:
        - in: query
          name: session_id
          required: true
          schema:
            type: string
            examples: 
            - 6566e85e7cf20dca9cef0c0a
      responses:
        default:
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
          description: Error
  /session/reauthenticate:
    get:
      summary: Reauthenticate Session Redirect
      tags: ["Settings"]
      operationId: get_session_reauthenticate
      parameters:
        - in: query
          name: session_id
          required: true
          schema:
            type: string
            examples: 
            - 6566e85e7cf20dca9cef0c0a
      responses:
        default:
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
          description: Error
servers:
  - url: https://endgrate.com
x-readme:
  explorer-enabled: true
  proxy-enabled: false
  samples-enabled: true
webhooks:
  completed_webhook:
    post:
      tags: ["Webhooks"]
      summary: Completed Webhook
      description: Endgrate will POST to this webhook whenever a transfer is completed. This is useful if you want to display a completion message to your users.
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/CompletedCallbackSchema"
            examples:
              Comprehensive:
                value:
                  success: true
                  transfer_id: 6566e87b7cf20dca9cef0c0d
                  session_id: 6566e85e7cf20dca9cef0c0a
                  metadata:
                    user_id: 1
                  endgrate:
                    endgrate_type: crm-contact
                  completed: true
      responses:
        "200":
          description: Acknowledgement that the completion data was received successfully
  configuration_webhook:
    post:
      tags: ["Webhooks"]
      summary: Configuration Webhook
      description: Endgrate will POST to this webhook when the session is configured by the user. This is useful if you want to get the integration provider chosen, any passthrough schemas, or passthrough fields without polling the GET api/session/configuration endpoint.
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/ConfigurationCallbackSchema"
            examples:
              Comprehensive:
                value:
                  success: true
                  session_id: 6566e85e7cf20dca9cef0c0a
                  endgrate:
                    provider: hubspot
                    provider_info:
                      name: hubspot
                      display_name: HubSpot
                      url: https://www.hubspot.com/
                      image: https://endgrate.nyc3.cdn.digitaloceanspaces.com/integration/hubspot.png
                      auth_type: oauth
                      specific: {}
                      endgrate_provider_type: CRM
                  schemas:
                    contact:
                      integration_info:
                        name: get-contacts
                        display_name: Get Contacts
                        method: IMPORT
                      integration: get-contacts
                      schema:
                        type: object
                        associations: true
                        endgrate_type: crm-contact
                        properties:
                          email:
                            type: string
                            format: email
                          first_name:
                            type: string
                          last_name:
                            type: string
                          full_name:
                            type: string
                          company:
                            type: string
                          age:
                            type: number
                          is_employed:
                            type: boolean
                          lifecyclestage:
                            title: Lifecycle Stage
                            type: string
                        required:
                        - email
                        title: crm-contact
                        session_method: IMPORT
                      passthrough_fields:
                        properties:
                          lifecyclestage:
                            title: Lifecycle Stage
                            type: string
                          required: []
                  passthrough_schemas:
                    custom:
                      integration_info:
                        name: get-custom-objects
                        display_name: Get Custom Objects
                        method: IMPORT
                      integration: get-custom-objects
                      schema:
                        type: object
                        associations: true
                        endgrate_type: Custom
                        properties: 
                        required: []
                        title: custom
                        session_method: IMPORT
                      passthrough_fields:
                        customfield1:
                          type: string
                        required:
                        - customfield1
      responses:
        "200":
          description: Acknowledgement that the configuration data was received successfully
  data_webhook:
    post:
      tags: ["Webhooks"]
      summary: Data Webhook
      description: Endgrate will POST to this webhook whenever new data is received. This is useful if you want to get transfer data without polling the GET api/pull/data endpoint.
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/DataCallbackSchema"
            examples:
              Comprehensive:
                value:
                  success: true
                  transfer_id: 6566e87b7cf20dca9cef0c0d
                  session_id: 6566e85e7cf20dca9cef0c0a
                  metadata:
                    user_id: '1'
                  endgrate:
                    endgrate_type: Contact
                  completed: true
                  transfer_data:
                  - id: 68951
                    data:
                      email: susan@youtube.com
                      first_name: Susan
                      last_name: Wojicki
                      full_name: Susan Wojicki
                      company: YouTube
                      is_employed: true
                      age: 37
                      lifecyclestage: lead
                    associations:
                      crm-company:
                      - '93574'
      responses:
        "200":
          description: Acknowledgement that the data was received successfully
  error_webhook:
    post:
      tags: ["Webhooks"]
      summary: Error Webhook
      description: Endgrate will POST to this webhook whenever an error occurs. This endpoint is useful if you want to get error information without polling the GET api/errors endpoint.
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/ErrorCallbackSchema"
            examples:
              Comprehensive:
                value:
                  success: true
                  pk: 65c9c40982664224123cebd5
                  transfer_id: 6566e87b7cf20dca9cef0c0d
                  session_id: 6566e85e7cf20dca9cef0c0a
                  timestamp: '2023-08-28T02:04:08.917Z'
                  error_resolve_text: There is a mapping error or invalid data point in one or more
                    fields. The field 'testdate' looks like a date and is not a valid long number. It
                    must be a valid long number.
                  error_type: mapping
                  resolved: true
                  endgrate:
                    provider_info:
                      name: hubspot
                      display_name: HubSpot
                      url: https://www.hubspot.com/
                      image: https://endgrate.nyc3.cdn.digitaloceanspaces.com/integration/hubspot.png
                      auth_type: oauth
                      endgrate_provider_type: CRM
                    integration_info:
                      name: get-contacts
                      display_name: Get Contacts
                      method: IMPORT
                      endgrate_type: crm-contact
                      supports_associations: true
      responses:
        "200":
          description: Acknowledgement that the error information was received successfully
